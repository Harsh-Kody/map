<div class="upload-container">
  <input type="file" accept="image/*" (change)="onFileSelected($event)" />

  <div *ngIf="showCropper">
    <image-cropper
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="false"
      format="png"
      [aspectRatio]="4 / 3"
      (imageCropped)="imageCropped($event)"
    >
    </image-cropper>

    <div *ngIf="croppedImage">
      <h4>Preview:</h4>
      <img
        [src]="croppedImage"
        style="max-width: 300px; border: 1px solid #ccc"
      />
    </div>

    <button (click)="onUpload()">Save & Continue</button>
  </div>

  <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
</div>
